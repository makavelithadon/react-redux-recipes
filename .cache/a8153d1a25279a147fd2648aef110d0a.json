{"dependencies":[{"name":"babel-runtime/helpers/toConsumableArray","loc":{"line":1,"column":31}},{"name":"babel-runtime/helpers/classCallCheck","loc":{"line":2,"column":28}},{"name":"lodash/without","loc":{"line":3,"column":21}},{"name":"lodash/set","loc":{"line":4,"column":17}},{"name":"lodash/get","loc":{"line":5,"column":17}},{"name":"lodash/uniq","loc":{"line":6,"column":18}},{"name":"lodash/isEmpty","loc":{"line":7,"column":21}},{"name":"lodash/some","loc":{"line":8,"column":18}},{"name":"lodash/has","loc":{"line":9,"column":17}},{"name":"lodash/isArray","loc":{"line":10,"column":21}},{"name":"lodash/last","loc":{"line":11,"column":18}},{"name":"lodash/forEach","loc":{"line":12,"column":21}}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var e=require(\"babel-runtime/helpers/toConsumableArray\"),t=C(e),l=require(\"babel-runtime/helpers/classCallCheck\"),r=C(l),a=require(\"lodash/without\"),u=C(a),i=require(\"lodash/set\"),s=C(i),n=require(\"lodash/get\"),o=C(n),d=require(\"lodash/uniq\"),f=C(d),h=require(\"lodash/isEmpty\"),_=C(h),c=require(\"lodash/some\"),p=C(c),v=require(\"lodash/has\"),q=C(v),m=require(\"lodash/isArray\"),b=C(m),g=require(\"lodash/last\"),y=C(g),E=require(\"lodash/forEach\"),z=C(E);function C(e){return e&&e.__esModule?e:{default:e}}var x=function e(l){var a=this;(0,r.default)(this,e),this._handlers={},this._pools={},this._emit=function(e){return function(t){(0,z.default)(a._pools,function(l,r){var a=l[e];a&&(\"default\"!==r?(0,y.default)(a)(t):(0,z.default)(a,function(e){return e(t)}))})}},this._normalize=function(e){return(0,b.default)(e)?e:[e]},this._listen=function(e){if(!(0,q.default)(a._handlers,e)){var t=a._emit(e);a.target.addEventListener(e,t),a._handlers[e]=t}},this._unlisten=function(e){if(!(0,p.default)(a._pools,e)){var t=a._handlers[e];a.target.removeEventListener(e,t),delete a._handlers[e]}},this.empty=function(){return(0,_.default)(a._handlers)},this.sub=function(e,l){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:\"default\",u=(0,f.default)([].concat((0,t.default)((0,o.default)(a._pools,r+\".\"+e,[])),(0,t.default)(a._normalize(l))));a._listen(e),(0,s.default)(a._pools,r+\".\"+e,u)},this.unsub=function(e,l){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:\"default\",i=u.default.apply(void 0,[(0,o.default)(a._pools,r+\".\"+e,[])].concat((0,t.default)(a._normalize(l))));i.length>0?(0,s.default)(a._pools,r+\".\"+e,i):((0,s.default)(a._pools,r+\".\"+e,void 0),a._unlisten(e))},this.target=l};exports.default=x;"},"hash":"08415ca26d8a68234a5d4bcdf670082a"}