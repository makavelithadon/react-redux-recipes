{"dependencies":[{"name":"babel-runtime/helpers/extends","loc":{"line":1,"column":21}},{"name":"babel-runtime/helpers/classCallCheck","loc":{"line":2,"column":28}},{"name":"babel-runtime/helpers/createClass","loc":{"line":3,"column":25}},{"name":"babel-runtime/helpers/possibleConstructorReturn","loc":{"line":4,"column":39}},{"name":"babel-runtime/helpers/inherits","loc":{"line":5,"column":22}},{"name":"lodash/pick","loc":{"line":6,"column":18}},{"name":"lodash/reduce","loc":{"line":7,"column":20}},{"name":"lodash/assign","loc":{"line":8,"column":20}},{"name":"lodash/invoke","loc":{"line":9,"column":20}},{"name":"lodash/isArray","loc":{"line":10,"column":21}},{"name":"lodash/mapValues","loc":{"line":11,"column":23}},{"name":"lodash/isNumber","loc":{"line":12,"column":22}},{"name":"lodash/includes","loc":{"line":13,"column":22}},{"name":"lodash/without","loc":{"line":14,"column":21}},{"name":"classnames","loc":{"line":15,"column":15}},{"name":"prop-types","loc":{"line":17,"column":22}},{"name":"react","loc":{"line":18,"column":33}},{"name":"../../lib","loc":{"line":20,"column":149}},{"name":"../../addons/Portal","loc":{"line":21,"column":19}},{"name":"./PopupContent","loc":{"line":22,"column":25}},{"name":"./PopupHeader","loc":{"line":23,"column":24}}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.POSITIONS=void 0;var e=require(\"babel-runtime/helpers/extends\"),t=H(e),o=require(\"babel-runtime/helpers/classCallCheck\"),r=H(o),l=require(\"babel-runtime/helpers/createClass\"),n=H(l),i=require(\"babel-runtime/helpers/possibleConstructorReturn\"),s=H(i),u=require(\"babel-runtime/helpers/inherits\"),a=H(u),p=require(\"lodash/pick\"),d=H(p),h=require(\"lodash/reduce\"),c=H(h),f=require(\"lodash/assign\"),g=H(f),m=require(\"lodash/invoke\"),v=H(m),y=require(\"lodash/isArray\"),b=H(y),O=require(\"lodash/mapValues\"),P=H(O),w=require(\"lodash/isNumber\"),C=H(w),S=require(\"lodash/includes\"),q=H(S),M=require(\"lodash/without\"),k=H(M),T=require(\"classnames\"),E=H(T),U=require(\"prop-types\"),_=H(U),N=require(\"react\"),x=H(N),I=require(\"../../lib\"),D=require(\"../../addons/Portal\"),K=H(D),L=require(\"./PopupContent\"),R=H(L),A=require(\"./PopupHeader\"),B=H(A);function H(e){return e&&e.__esModule?e:{default:e}}var V=exports.POSITIONS=[\"top left\",\"top right\",\"bottom right\",\"bottom left\",\"right center\",\"left center\",\"top center\",\"bottom center\"],Y=function(e){(0,a.default)(o,e);function o(){var e,t,l,n;(0,r.default)(this,o);for(var i=arguments.length,u=Array(i),a=0;a<i;a++)u[a]=arguments[a];return t=l=(0,s.default)(this,(e=o.__proto__||Object.getPrototypeOf(o)).call.apply(e,[this].concat(u))),l.state={},l.hideOnScroll=function(e){l.setState({closed:!0}),I.eventStack.unsub(\"scroll\",l.hideOnScroll,{target:window}),setTimeout(function(){return l.setState({closed:!1})},50),l.handleClose(e)},l.handleClose=function(e){(0,v.default)(l.props,\"onClose\",e,l.props)},l.handleOpen=function(e){l.coords=e.currentTarget.getBoundingClientRect();var t=l.props.onOpen;t&&t(e,l.props)},l.handlePortalMount=function(e){l.props.hideOnScroll&&I.eventStack.sub(\"scroll\",l.hideOnScroll,{target:window}),(0,v.default)(l.props,\"onMount\",e,l.props)},l.handlePortalUnmount=function(e){l.props.hideOnScroll&&I.eventStack.unsub(\"scroll\",l.hideOnScroll,{target:window}),(0,v.default)(l.props,\"onUnmount\",e,l.props)},l.handlePopupRef=function(e){l.popupCoords=e?e.getBoundingClientRect():null,l.setPopupStyle()},n=t,(0,s.default)(l,n)}return(0,n.default)(o,[{key:\"computePopupStyle\",value:function(e){var t={position:\"absolute\"};if(!(0,I.isBrowser)())return t;var o=this.props.offset,r=window,l=r.pageYOffset,n=r.pageXOffset,i=document.documentElement,s=i.clientWidth,u=i.clientHeight;if((0,q.default)(e,\"right\"))t.right=Math.round(s-(this.coords.right+n)),t.left=\"auto\";else if((0,q.default)(e,\"left\"))t.left=Math.round(this.coords.left+n),t.right=\"auto\";else{var a=(this.coords.width-this.popupCoords.width)/2;t.left=Math.round(this.coords.left+a+n),t.right=\"auto\"}if((0,q.default)(e,\"top\"))t.bottom=Math.round(u-(this.coords.top+l)),t.top=\"auto\";else if((0,q.default)(e,\"bottom\"))t.top=Math.round(this.coords.bottom+l),t.bottom=\"auto\";else{var p=(this.coords.height+this.popupCoords.height)/2;t.top=Math.round(this.coords.bottom+l-p),t.bottom=\"auto\";var d=this.popupCoords.width+8;(0,q.default)(e,\"right\")?t.right-=d:t.left-=d}return o&&((0,C.default)(t.right)?t.right-=o:t.left-=o),t}},{key:\"isStyleInViewport\",value:function(e){var t=window,o=t.pageYOffset,r=t.pageXOffset,l=document.documentElement,n=l.clientWidth,i=l.clientHeight,s={top:e.top,left:e.left,width:this.popupCoords.width,height:this.popupCoords.height};return(0,C.default)(e.right)&&(s.left=n-e.right-s.width),(0,C.default)(e.bottom)&&(s.top=i-e.bottom-s.height),!(s.top<o)&&(!(s.top+s.height>o+i)&&(!(s.left<r)&&!(s.left+s.width>r+n)))}},{key:\"setPopupStyle\",value:function(){if(this.coords&&this.popupCoords){for(var e=this.props.position,t=this.computePopupStyle(e),o=(0,k.default)(V,e).concat([e]),r=0;!this.isStyleInViewport(t)&&r<o.length;r+=1)t=this.computePopupStyle(o[r]),e=o[r];t=(0,P.default)(t,function(e){return(0,C.default)(e)?e+\"px\":e}),this.setState({style:t,position:e})}}},{key:\"getPortalProps\",value:function(){var e={},t=this.props,o=t.on,r=t.hoverable,l=(0,b.default)(o)?o:[o];return r&&(e.closeOnPortalMouseLeave=!0,e.mouseLeaveDelay=300),(0,q.default)(l,\"click\")&&(e.openOnTriggerClick=!0,e.closeOnTriggerClick=!0,e.closeOnDocumentClick=!0),(0,q.default)(l,\"focus\")&&(e.openOnTriggerFocus=!0,e.closeOnTriggerBlur=!0),(0,q.default)(l,\"hover\")&&(e.openOnTriggerMouseEnter=!0,e.closeOnTriggerMouseLeave=!0,e.mouseLeaveDelay=70,e.mouseEnterDelay=50),e}},{key:\"render\",value:function(){var e=this.props,r=e.basic,l=e.children,n=e.className,i=e.content,s=e.flowing,u=e.header,a=e.inverted,p=e.size,h=e.trigger,f=e.wide,m=this.state,v=m.position,y=m.closed,b=(0,g.default)({},this.state.style,this.props.style),O=(0,E.default)(\"ui\",v,p,(0,I.useKeyOrValueAndKey)(f,\"wide\"),(0,I.useKeyOnly)(r,\"basic\"),(0,I.useKeyOnly)(s,\"flowing\"),(0,I.useKeyOnly)(a,\"inverted\"),\"popup transition visible\",n);if(y)return h;var P=(0,I.getUnhandledProps)(o,this.props),w=K.default.handledProps,C=(0,c.default)(P,function(e,t,o){return(0,q.default)(w,o)||(e[o]=t),e},{}),S=(0,d.default)(P,w),M=(0,I.getElementType)(o,this.props),k=x.default.createElement(M,(0,t.default)({},C,{className:O,style:b,ref:this.handlePopupRef}),l,I.childrenUtils.isNil(l)&&B.default.create(u),I.childrenUtils.isNil(l)&&R.default.create(i)),T=(0,t.default)({},this.getPortalProps(),S);return x.default.createElement(K.default,(0,t.default)({},T,{trigger:h,onClose:this.handleClose,onMount:this.handlePortalMount,onOpen:this.handleOpen,onUnmount:this.handlePortalUnmount}),k)}}]),o}(N.Component);Y.defaultProps={position:\"top left\",on:\"hover\"},Y._meta={name:\"Popup\",type:I.META.TYPES.MODULE},Y.Content=R.default,Y.Header=B.default,Y.handledProps=[\"as\",\"basic\",\"children\",\"className\",\"content\",\"flowing\",\"header\",\"hideOnScroll\",\"hoverable\",\"inverted\",\"offset\",\"on\",\"onClose\",\"onMount\",\"onOpen\",\"onUnmount\",\"position\",\"size\",\"style\",\"trigger\",\"wide\"],exports.default=Y,Y.propTypes={};"},"hash":"1f7bb76a2c7ce004f1e403d2ce4ee909"}